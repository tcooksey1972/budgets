         <!-- /\* Font Definitions \*/ @font-face {font-family:"Cambria Math"; panose-1:2 4 5 3 5 4 6 3 2 4; mso-font-charset:0; mso-generic-font-family:roman; mso-font-pitch:variable; mso-font-signature:-536869121 1107305727 33554432 0 415 0;} @font-face {font-family:Calibri; panose-1:2 15 5 2 2 2 4 3 2 4; mso-font-charset:0; mso-generic-font-family:swiss; mso-font-pitch:variable; mso-font-signature:-469750017 -1040178053 9 0 511 0;} /\* Style Definitions \*/ p.MsoNormal, li.MsoNormal, div.MsoNormal {mso-style-unhide:no; mso-style-qformat:yes; mso-style-parent:""; margin-top:0in; margin-right:0in; margin-bottom:8.0pt; margin-left:0in; line-height:107%; mso-pagination:widow-orphan; font-size:11.0pt; font-family:"Calibri",sans-serif; mso-ascii-font-family:Calibri; mso-ascii-theme-font:minor-latin; mso-fareast-font-family:Calibri; mso-fareast-theme-font:minor-latin; mso-hansi-font-family:Calibri; mso-hansi-theme-font:minor-latin; mso-bidi-font-family:"Times New Roman"; mso-bidi-theme-font:minor-bidi; mso-font-kerning:1.0pt; mso-ligatures:standardcontextual;} .MsoChpDefault {mso-style-type:export-only; mso-default-props:yes; font-family:"Calibri",sans-serif; mso-ascii-font-family:Calibri; mso-ascii-theme-font:minor-latin; mso-fareast-font-family:Calibri; mso-fareast-theme-font:minor-latin; mso-hansi-font-family:Calibri; mso-hansi-theme-font:minor-latin; mso-bidi-font-family:"Times New Roman"; mso-bidi-theme-font:minor-bidi;} .MsoPapDefault {mso-style-type:export-only; margin-bottom:8.0pt; line-height:107%;} @page WordSection1 {size:8.5in 11.0in; margin:1.0in 1.0in 1.0in 1.0in; mso-header-margin:.5in; mso-footer-margin:.5in; mso-paper-source:0;} div.WordSection1 {page:WordSection1;} /\* List Definitions \*/ @list l0 {mso-list-id:181238805; mso-list-template-ids:599008312;} @list l0:level2 {mso-level-number-format:bullet; mso-level-text:\\F0B7; mso-level-tab-stop:1.0in; mso-level-number-position:left; text-indent:-.25in; mso-ansi-font-size:10.0pt; font-family:Symbol;} @list l1 {mso-list-id:902980840; mso-list-template-ids:-986299990;} @list l1:level2 {mso-level-number-format:bullet; mso-level-text:\\F0B7; mso-level-tab-stop:1.0in; mso-level-number-position:left; text-indent:-.25in; mso-ansi-font-size:10.0pt; font-family:Symbol;} @list l2 {mso-list-id:932854556; mso-list-template-ids:-1329197990;} @list l2:level2 {mso-level-number-format:bullet; mso-level-text:\\F0B7; mso-level-tab-stop:1.0in; mso-level-number-position:left; text-indent:-.25in; mso-ansi-font-size:10.0pt; font-family:Symbol;} @list l3 {mso-list-id:1112019364; mso-list-template-ids:-743643014;} @list l3:level2 {mso-level-number-format:bullet; mso-level-text:\\F0B7; mso-level-tab-stop:1.0in; mso-level-number-position:left; text-indent:-.25in; mso-ansi-font-size:10.0pt; font-family:Symbol;} @list l4 {mso-list-id:1195001464; mso-list-template-ids:1312313882;} @list l4:level2 {mso-level-number-format:bullet; mso-level-text:\\F0B7; mso-level-tab-stop:1.0in; mso-level-number-position:left; text-indent:-.25in; mso-ansi-font-size:10.0pt; font-family:Symbol;} @list l5 {mso-list-id:1338121140; mso-list-template-ids:-177727802;} @list l5:level2 {mso-level-number-format:bullet; mso-level-text:\\F0B7; mso-level-tab-stop:1.0in; mso-level-number-position:left; text-indent:-.25in; mso-ansi-font-size:10.0pt; font-family:Symbol;} @list l6 {mso-list-id:1842810449; mso-list-template-ids:-1313319386;} @list l6:level2 {mso-level-number-format:bullet; mso-level-text:\\F0B7; mso-level-tab-stop:1.0in; mso-level-number-position:left; text-indent:-.25in; mso-ansi-font-size:10.0pt; font-family:Symbol;} @list l7 {mso-list-id:2123839512; mso-list-template-ids:1679473908;} @list l7:level1 {mso-level-number-format:bullet; mso-level-text:\\F0B7; mso-level-tab-stop:.5in; mso-level-number-position:left; text-indent:-.25in; mso-ansi-font-size:10.0pt; font-family:Symbol;} @list l7:level2 {mso-level-number-format:bullet; mso-level-text:\\F0B7; mso-level-tab-stop:1.0in; mso-level-number-position:left; text-indent:-.25in; mso-ansi-font-size:10.0pt; font-family:Symbol;} @list l7:level3 {mso-level-number-format:bullet; mso-level-text:\\F0B7; mso-level-tab-stop:1.5in; mso-level-number-position:left; text-indent:-.25in; mso-ansi-font-size:10.0pt; font-family:Symbol;} @list l7:level4 {mso-level-number-format:bullet; mso-level-text:\\F0B7; mso-level-tab-stop:2.0in; mso-level-number-position:left; text-indent:-.25in; mso-ansi-font-size:10.0pt; font-family:Symbol;} @list l7:level5 {mso-level-number-format:bullet; mso-level-text:\\F0B7; mso-level-tab-stop:2.5in; mso-level-number-position:left; text-indent:-.25in; mso-ansi-font-size:10.0pt; font-family:Symbol;} @list l7:level6 {mso-level-number-format:bullet; mso-level-text:\\F0B7; mso-level-tab-stop:3.0in; mso-level-number-position:left; text-indent:-.25in; mso-ansi-font-size:10.0pt; font-family:Symbol;} @list l7:level7 {mso-level-number-format:bullet; mso-level-text:\\F0B7; mso-level-tab-stop:3.5in; mso-level-number-position:left; text-indent:-.25in; mso-ansi-font-size:10.0pt; font-family:Symbol;} @list l7:level8 {mso-level-number-format:bullet; mso-level-text:\\F0B7; mso-level-tab-stop:4.0in; mso-level-number-position:left; text-indent:-.25in; mso-ansi-font-size:10.0pt; font-family:Symbol;} @list l7:level9 {mso-level-number-format:bullet; mso-level-text:\\F0B7; mso-level-tab-stop:4.5in; mso-level-number-position:left; text-indent:-.25in; mso-ansi-font-size:10.0pt; font-family:Symbol;} ol {margin-bottom:0in;} ul {margin-bottom:0in;} -->

**�1: Set Up AWS Budgets**

**Objective**: Establish a cost monitoring system to track and manage AWS spending.

1.  **Log into AWS Management Account**: Accessing the AWS Management Console with an account that has administrative privileges is necessary to set up budgets and configure alerts.
2.  **Navigate to AWS Budgets**: AWS Budgets allows you to set custom budgets to track your cost and usage from the AWS dashboard.
3.  **Create a New Budget**:

*   **Select �Create budget�**: Initiates the process of defining a new budget.
*   **Choose �Cost budget�**: Specifies that the budget is tracking costs, not usage or other metrics.
*   **Set budget details**: A monthly budget of $1,000 is established to cap spending for each development account.

5.  **Configure Alerts**:

*   **Alerts at 60%, 80%, 90%, 100% of the budget**: These thresholds ensure that you're notified at various stages as the budget is being consumed, allowing proactive management of resources and costs.
*   **100% alert to SNS topic**: This is crucial as it triggers actions to prevent further resource creation when the budget limit is reached.

**�2: Set Up SNS (Simple Notification Service) Topic**

**Objective**: Create a communication channel for sending budget alerts.

1.  **Create an SNS Topic**: An SNS topic named �BudgetAlerts� is created to aggregate and forward notifications from AWS Budgets.
2.  **Set Up Email Subscription**:

*   **Optional email alerts**: By subscribing your email to the SNS topic, you receive direct notifications about budget status, which is useful for immediate awareness and response.

**�3: Create Lambda Functions**

**Objective**: Automate the enforcement and re-enablement of budget compliance policies.

1.  **Create a Lambda for Disabling Accounts**:

*   **Lambda setup**: This function is triggered when the budget reaches 100%, enforcing restrictions on resource creation by attaching an SCP (Service Control Policy).
*   **Python/Node.js runtime**: Choice of runtime depends on your team's expertise and preference.
*   **IAM permissions**: The function requires permissions to modify SCPs, which control the actions that can be performed in the account.

3.  **Create a Lambda for Re-enabling Accounts**:

*   **Monthly reset function**: This function is scheduled to run at the start of each month to lift the restrictions imposed by the SCP, allowing normal operations to resume.

**�4: Set Up EventBridge**

**Objective**: Automate the scheduling of the re-enabling Lambda function.

1.  **Create a Rule for Monthly Reset**:

*   **Automated triggering**: EventBridge rule will automatically trigger the Lambda function responsible for removing the SCPs at the beginning of each month, ensuring that accounts are only restricted during the period they exceed their budget.

**�5: Create and Attach Service Control Policies (SCPs)**

**Objective**: Define policies that limit account actions when budget thresholds are exceeded.

1.  **Create SCP to Restrict Resource Creation**:

*   **Policy creation**: A new SCP is created to prevent resource creation, effectively stopping new expenses from being incurred in the account.

3.  **Attach/Detach SCP Using Lambda**:

*   **Automated SCP management**: The previously created Lambda functions manage the attachment and detachment of this SCP based on budget consumption.

**�6: Subscribe Lambda to SNS Topic**

**Objective**: Link the budget alert system with the enforcement mechanism.

1.  **Link Lambda to SNS Topic**:

*   **Integration of services**: Connecting the Lambda function to the SNS topic ensures that the function is triggered automatically when a budget alert is published to the topic.

**�7: Test Your Setup**

**Objective**: Validate the functionality of the entire system.

1.  **Simulate Budget Alerts**:

*   **Testing**: Simulating budget alerts is crucial to ensure that the system works as expected and that the Lambda functions are triggered appropriately.

3.  **Monitor the Lambda Logs**:

*   **Verification and troubleshooting**: Regular monitoring of CloudWatch logs will help in identifying any issues in the setup and confirm that actions are being taken as expected.

**Additional Considerations**

*   **IAM Permissions**: Ensuring correct IAM permissions is critical for the proper functioning of Lambda functions.
*   **Error Handling**: Robust error handling in Lambda functions can help in managing unexpected situations effectively.
*   **Notification Channels**: Integrating additional notification channels can improve the visibility and response to budget status.
*   **Customization**: Depending on your specific AWS environment and requirements, further customization of Lambda functions and SCPs may be necessary.
